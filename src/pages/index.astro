---
import { Picture } from '@astrojs/image/components';
import { Icon } from 'astro-iconify';
import Layout from '../layouts/Layout.astro';
let allPosts = await Astro.glob('./blog/**/index.mdx');
allPosts.sort((a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf());
let recentPosts = allPosts.slice(0, 3);
let socialMedia = [
	{
		url: 'https://github.com/nico-himself/',
		icon: 'fa6-brands:github',
		name: 'GitHub'
	},
	{
		url: 'https://twitter.com/nicobsalm/',
		icon: 'fa6-brands:x-twitter',
		name: 'X/Twitter'
	},
	{
		url: 'https://www.linkedin.com/in/nicosalm/',
		icon: 'fa6-brands:linkedin',
		name: 'LinkedIn'
	},
	{
		url: 'https://discord.gg/tcPkBrXfWk/',
		icon: 'fa6-brands:discord',
		name: 'Discord'
	},
	{
		url: 'mailto:contact@nicosalm.dev',
		icon: 'fluent:mail-24-filled',
		name: 'Email'
	}
]
---
<Layout title="Nico Salm" description="Hi! I'm Nico. headline text">
	<main class="mx-auto max-w-screen-xl flex xl:p-0 p-4 lg:flex-row flex-col pt-2">
		<!-- Card -->
		<section class={`card flex-grow flex flex-row bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-[#f4c7fc] via-[#ede6fc] to-[#c7d5fc] dark:from-[#253b73] dark:to-[#5b5bba]`}>
			<!-- Information -->
			<div class="p-6 flex flex-col justify-between">
				<!-- Text -->
				<div>
					<h1 class="font-display font-semibold text-4xl xl:text-5xl">Hi! I'm Nico.</h1>
					<h2 class="font-normal text-2xl xl:text-3xl leading-7">headline text</h2>
					<p class="pt-4 xl:text-lg">body text body text body text body text <a href="https://skunkworks.engr.wisc.edu/m" class="hover:dark:text-blue-400 hover:text-blue-600 transition-all underline" target="_blank">Informatics Skunkworks</a> and <a href="https://wqi.wisc.edu/wqcc/" class="hover:dark:text-blue-400 hover:text-blue-600 transition-all underline" target="_blank">WQCC</a>.</p>
				</div>
				<!-- Social Media -->
				<div class="flex justify-start mt-4 items-center">
					{socialMedia.map(sm => (
						<a href={sm.url} target="_blank" class="xl:mr-4 mr-3 xl:p-4 md:p-3 p-2 rounded-full bg-base-100/50 hover:bg-base-200/50 transition-all backdrop-blur-md" title={sm.name}>
							<Icon name={sm.icon} class="xl:max-w-[2em] xl:h-8 md:max-w-[1.75em] md:h-7 max-w-[1.5em] h-6"/>
						</a>
					))}
				</div>
			</div>
			<!-- Picture -->
			<div class="flex-shrink-0 flex-col flex justify-end">
				<Picture formats={['avif', 'webp', 'png']} alt="Picture" class="w-0 sm:w-[200px] md:w-[300px] aspect-[3/4.04]" widths={[600, 300]} loading="eager" sizes="(max-width: 640px) 0px, (max-width: 768px) 200px, 300px" src={import('../images/me.png')}/>
			</div>
		</section>
		<!-- Articles -->
		<section class="flex-none p-3 lg:ml-2 lg:w-80">
			<h2 class="font-display font-bold text-2xl mb-2">Articles</h2>
			<div class="lg:grid-cols-1 grid sm:grid-cols-3 gap-4 mb-2 grid-cols-1">
				{recentPosts.map(post => (
					<a rel="prefetch" href={post.url} class="group">
						<h3 class="text-lg font-medium leading-5 mb-1 group-hover:underline dark:text-blue-200">{post.frontmatter.title}</h3>
						<p class="opacity-85 font-light leading-5 mb-1">{post.frontmatter.description}</p>
						<div class="flex flex-wrap opacity-80 items-center">
							<p class="text-sm font-normal leading-5">{new Date(post.frontmatter.pubDate).toLocaleDateString('en-us', { year:"numeric", month:"short", day:"numeric"})}</p>
							<span class="divider divider-horizontal mx-0"/>
							<span class="badge badge-sm badge-outline">{post.frontmatter.minutesRead} min read</span>
						</div>
					</a>
				))}
			</div>
			<a rel="prefetch" href="/blog" class="text-blue-600 dark:text-blue-400 hover:underline">See all articles â†’</a>
		</section>
	</main>
</Layout>

